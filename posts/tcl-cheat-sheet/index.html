<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><style type=text/css>body{font-family:monospace}</style><title>Tcl Cheat Sheet</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap" rel=stylesheet><link rel=stylesheet href=/css/style.css></head><body><header>===================<br>== <a href=https://lxulxu.github.io/>lxulxu's blog</a> ==<br>===================<div style=float:right>Hello there</div><br><p><nav><a href=/><b>Start</b></a>.
<a href=/posts/><b>Posts</b></a>.
<a href=/categories/><b>Categories</b></a>.
<a href=/tags/><b>Tags</b></a>.
<a href=/about/><b>About</b></a>.</nav></p></header><main><article><h1>Tcl Cheat Sheet</h1><b><time>30.08.2022 17:51</time></b>
<a href=/tags/cheat-sheet>cheat-sheet</a>
<a href=/tags/tcl>tcl</a><div><ul><li>基础语法</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>puts <span style=color:#e6db74>&#34;Hello World&#34;</span><span style=color:#75715e>#输出</span>
</span></span><span style=display:flex><span>set x [expr <span style=color:#ae81ff>1</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span> <span style=color:#960050;background-color:#1e0010>?</span> <span style=color:#ae81ff>1</span> : <span style=color:#ae81ff>2</span>]<span style=color:#75715e>#设置变量；三元运算符</span>
</span></span><span style=display:flex><span>[exec ls]<span style=color:#75715e>#调用子进程</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#if</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> { <span style=color:#960050;background-color:#1e0010>$</span>x <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span>} { <span style=color:#f92672>...</span> }
</span></span><span style=display:flex><span>elseif { <span style=color:#960050;background-color:#1e0010>$</span>x <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> } { <span style=color:#f92672>...</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#while</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> { <span style=color:#960050;background-color:#1e0010>$</span>x <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span> } {
</span></span><span style=display:flex><span>	incr x
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#for</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> { set i <span style=color:#ae81ff>0</span> } { <span style=color:#960050;background-color:#1e0010>$</span>i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span> } { incr i } { <span style=color:#f92672>...</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#switch</span>
</span></span><span style=display:flex><span>switch <span style=color:#960050;background-color:#1e0010>$</span>x {
</span></span><span style=display:flex><span>	<span style=color:#ae81ff>1</span> { <span style=color:#f92672>...</span> }
</span></span><span style=display:flex><span>	<span style=color:#ae81ff>2</span> { <span style=color:#f92672>...</span> }
</span></span><span style=display:flex><span>	default { <span style=color:#f92672>...</span> }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>字符串</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>set s1 <span style=color:#e6db74>&#34;_Hello_World_&#34;</span>
</span></span><span style=display:flex><span>set s2 <span style=color:#e6db74>&#34;_&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[string length <span style=color:#960050;background-color:#1e0010>$</span>s1]
</span></span><span style=display:flex><span>[string index <span style=color:#960050;background-color:#1e0010>$</span>s1 <span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>[string range <span style=color:#960050;background-color:#1e0010>$</span>s1 <span style=color:#ae81ff>1</span> end]
</span></span><span style=display:flex><span>append s1 <span style=color:#e6db74>&#34;!&#34;</span>
</span></span><span style=display:flex><span>[string repeat <span style=color:#960050;background-color:#1e0010>$</span>s1 <span style=color:#ae81ff>5</span>]<span style=color:#75715e>#&#34;_Hello_World_&#34;*5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[string toupper <span style=color:#960050;background-color:#1e0010>$</span>s1]
</span></span><span style=display:flex><span>[string tolower <span style=color:#960050;background-color:#1e0010>$</span>s1]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[string compare <span style=color:#960050;background-color:#1e0010>$</span>s1 <span style=color:#960050;background-color:#1e0010>$</span>s2]
</span></span><span style=display:flex><span>[string equal <span style=color:#960050;background-color:#1e0010>$</span>s1 <span style=color:#960050;background-color:#1e0010>$</span>s2]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[string first <span style=color:#960050;background-color:#1e0010>$</span>s2 <span style=color:#960050;background-color:#1e0010>$</span>s1]<span style=color:#75715e>#s1中第一个匹配s2索引</span>
</span></span><span style=display:flex><span>[string last <span style=color:#960050;background-color:#1e0010>$</span>s2 <span style=color:#960050;background-color:#1e0010>$</span>s1]<span style=color:#75715e>#s1中最后一次匹配s2索引</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[string trim <span style=color:#960050;background-color:#1e0010>$</span>s1 <span style=color:#960050;background-color:#1e0010>$</span>s2]<span style=color:#75715e>#-&gt;Hello_World</span>
</span></span><span style=display:flex><span>[string trimright <span style=color:#960050;background-color:#1e0010>$</span>s1 <span style=color:#960050;background-color:#1e0010>$</span>s2]<span style=color:#75715e>#-&gt;_Hello_World</span>
</span></span><span style=display:flex><span>[string trimleft <span style=color:#960050;background-color:#1e0010>$</span>s1 <span style=color:#960050;background-color:#1e0010>$</span>s2]<span style=color:#75715e>#-&gt;Hello_World_</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>set s1 <span style=color:#e6db74>&#34;abc@163.com&#34;</span>
</span></span><span style=display:flex><span>set s2 <span style=color:#e6db74>&#34;*@*.com&#34;</span>
</span></span><span style=display:flex><span>[string <span style=color:#66d9ef>match</span> <span style=color:#960050;background-color:#1e0010>$</span>s2 <span style=color:#960050;background-color:#1e0010>$</span>s1]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[format <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%s</span><span style=color:#e6db74> </span><span style=color:#e6db74>%x</span><span style=color:#e6db74> </span><span style=color:#e6db74>%f</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;tcl&#34;</span> <span style=color:#ae81ff>40</span> <span style=color:#ae81ff>43.5</span>]
</span></span><span style=display:flex><span>scan {planet1 <span style=color:#ae81ff>0.330</span> planet2 <span style=color:#ae81ff>4.87</span>} {planet1 <span style=color:#f92672>%</span>g planet2 <span style=color:#f92672>%</span>g}<span style=color:#75715e>#-&gt; 0.330 4.87 </span>
</span></span></code></pre></div><ul><li>列表</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>#初始化</span>
</span></span><span style=display:flex><span>set colors {red green blue}
</span></span><span style=display:flex><span>set colors [split <span style=color:#e6db74>&#34;red_green_blue&#34;</span> _]
</span></span><span style=display:flex><span>set colors [list red green blue]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[lindex <span style=color:#960050;background-color:#1e0010>$</span>colors <span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>[lrange <span style=color:#960050;background-color:#1e0010>$</span>colors <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>[llength <span style=color:#960050;background-color:#1e0010>$</span>colors]
</span></span><span style=display:flex><span>lappend colors <span style=color:#e6db74>&#34;orange&#34;</span><span style=color:#75715e>#末尾添加元素</span>
</span></span><span style=display:flex><span>lset colors <span style=color:#ae81ff>3</span> purple<span style=color:#75715e>#设置第n个元素</span>
</span></span><span style=display:flex><span>[linsert <span style=color:#960050;background-color:#1e0010>$</span>colors <span style=color:#ae81ff>3</span> black white]
</span></span><span style=display:flex><span>[lreplace <span style=color:#960050;background-color:#1e0010>$</span>colors <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>1</span> black white]
</span></span><span style=display:flex><span>[lsearch <span style=color:#960050;background-color:#1e0010>$</span>colors black]
</span></span><span style=display:flex><span>concat <span style=color:#960050;background-color:#1e0010>$</span>colors {black {white purple}}<span style=color:#75715e>#-&gt;$colors black {white purple}</span>
</span></span><span style=display:flex><span>[join <span style=color:#960050;background-color:#1e0010>$</span>colors <span style=color:#f92672>/</span>]<span style=color:#75715e>#列表元素以特定分隔符组合为字符串</span>
</span></span><span style=display:flex><span>[lsort <span style=color:#960050;background-color:#1e0010>$</span>colors]
</span></span><span style=display:flex><span>foreach item <span style=color:#960050;background-color:#1e0010>$</span>colors { <span style=color:#f92672>...</span> }<span style=color:#75715e>#遍历</span>
</span></span></code></pre></div><ul><li>字典</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>#初始化</span>
</span></span><span style=display:flex><span>dict set colors c1 red
</span></span><span style=display:flex><span>set colors [dict create c1 <span style=color:#e6db74>&#34;black&#34;</span> c2 <span style=color:#e6db74>&#34;white&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[dict size <span style=color:#960050;background-color:#1e0010>$</span>colors]
</span></span><span style=display:flex><span>[dict keys <span style=color:#960050;background-color:#1e0010>$</span>colors]<span style=color:#75715e>#所有key组合成的列表</span>
</span></span><span style=display:flex><span>[dict values <span style=color:#960050;background-color:#1e0010>$</span>colors]<span style=color:#75715e>#所有value组合成的列表</span>
</span></span><span style=display:flex><span>[dict exists <span style=color:#960050;background-color:#1e0010>$</span>colors c1]
</span></span><span style=display:flex><span><span style=color:#75715e>#遍历</span>
</span></span><span style=display:flex><span>foreach item [dict keys <span style=color:#960050;background-color:#1e0010>$</span>colors] {
</span></span><span style=display:flex><span>	set value [dict get <span style=color:#960050;background-color:#1e0010>$</span>colors item]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>dict <span style=color:#66d9ef>for</span> {key value} <span style=color:#960050;background-color:#1e0010>$</span>colors {
</span></span><span style=display:flex><span>	puts <span style=color:#e6db74>&#34;$key : $value&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>IO</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>#写入文件</span>
</span></span><span style=display:flex><span>set fp [open <span style=color:#e6db74>&#34;input.txt&#34;</span> w<span style=color:#f92672>+</span>]
</span></span><span style=display:flex><span>puts <span style=color:#960050;background-color:#1e0010>$</span>fp <span style=color:#e6db74>&#34;Hello world.&#34;</span>
</span></span><span style=display:flex><span>close <span style=color:#960050;background-color:#1e0010>$</span>fp
</span></span><span style=display:flex><span><span style=color:#75715e>#读取文件</span>
</span></span><span style=display:flex><span>set fp [open <span style=color:#e6db74>&#34;input.txt&#34;</span> r]
</span></span><span style=display:flex><span>set file_data [read <span style=color:#960050;background-color:#1e0010>$</span>fp]
</span></span><span style=display:flex><span>close <span style=color:#960050;background-color:#1e0010>$</span>fp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>set fp [open <span style=color:#e6db74>&#34;input.txt&#34;</span> r]
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> {<span style=color:#f92672>%</span> [gets <span style=color:#960050;background-color:#1e0010>$</span>fp data] <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>%</span>} {<span style=color:#f92672>%</span>
</span></span><span style=display:flex><span>  puts <span style=color:#960050;background-color:#1e0010>$</span>data
</span></span><span style=display:flex><span><span style=color:#f92672>%</span>}
</span></span><span style=display:flex><span>close <span style=color:#960050;background-color:#1e0010>$</span>fp
</span></span><span style=display:flex><span><span style=color:#75715e>#文件名相关操作</span>
</span></span><span style=display:flex><span>[file join C:<span style=color:#f92672>/</span> {Program Files} Tcl tclsh<span style=color:#f92672>.</span>exe]<span style=color:#75715e>#-&gt;C:/Program Files/Tcl/tclsh.exe</span>
</span></span><span style=display:flex><span>[file split x<span style=color:#f92672>/</span>y<span style=color:#f92672>/</span>z]<span style=color:#75715e>#-&gt;x y z</span>
</span></span><span style=display:flex><span>[file dirname <span style=color:#f92672>/</span>a<span style=color:#f92672>/</span>b<span style=color:#f92672>/</span>main<span style=color:#f92672>.</span>c]<span style=color:#75715e>#-&gt;/a/b</span>
</span></span><span style=display:flex><span>[file extension src<span style=color:#f92672>/</span>main<span style=color:#f92672>.</span>c]<span style=color:#75715e>#-&gt;.c</span>
</span></span><span style=display:flex><span>[file rootname src<span style=color:#f92672>/</span>main<span style=color:#f92672>.</span>c]<span style=color:#75715e>#-&gt;src/main</span>
</span></span><span style=display:flex><span>[file tail <span style=color:#f92672>/</span>a<span style=color:#f92672>/</span>b<span style=color:#f92672>/</span>c<span style=color:#f92672>.</span>txt]<span style=color:#75715e>#-&gt;c.txt</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#查找文件</span>
</span></span><span style=display:flex><span>glob <span style=color:#f92672>-</span>nocomplain {{src,backup}<span style=color:#f92672>/*.</span>[ch]}]<span style=color:#75715e>#-nocomplain:跳过搜索结果为空时报错;{{src,backup}/*.[ch]}:正则匹配搜索文件</span>
</span></span><span style=display:flex><span>[glob <span style=color:#f92672>-</span>directory <span style=color:#f92672>./</span> <span style=color:#f92672>-</span>types f <span style=color:#f92672>-</span>tails <span style=color:#f92672>*</span>]<span style=color:#75715e>#-directory:指定搜索文件夹;-types:指定搜索对象类型</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#文件相关操作</span>
</span></span><span style=display:flex><span>file mkdir foo
</span></span><span style=display:flex><span>file delete a<span style=color:#f92672>.</span>txt b<span style=color:#f92672>.</span>txt <span style=color:#f92672>*.</span>tmp
</span></span><span style=display:flex><span>file delete {<span style=color:#f92672>*</span>}[glob <span style=color:#f92672>*</span>]
</span></span><span style=display:flex><span>file copy a<span style=color:#f92672>.</span>txt b<span style=color:#f92672>.</span>txt<span style=color:#75715e>#a.txt复制到b.txt</span>
</span></span><span style=display:flex><span>file rename b<span style=color:#f92672>.</span>txt c<span style=color:#f92672>.</span>txt<span style=color:#75715e>#b.txt重命名为c.txt</span>
</span></span></code></pre></div><ul><li>正则匹配</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>#匹配</span>
</span></span><span style=display:flex><span>regexp {([a<span style=color:#f92672>-</span>z]<span style=color:#f92672>*</span>)<span style=color:#f92672>.</span>([a<span style=color:#f92672>-</span>z]<span style=color:#f92672>*</span>)} <span style=color:#e6db74>&#34;Tcl Command&#34;</span> sm sm1 sm2<span style=color:#75715e>#sm:full match;sm1:sub match 1;sm2:sub match 2</span>
</span></span><span style=display:flex><span>regexp <span style=color:#f92672>-</span>nocase <span style=color:#f92672>-</span>start <span style=color:#ae81ff>4</span> <span style=color:#f92672>-</span>line <span style=color:#f92672>--</span> {([a<span style=color:#f92672>-</span>z]<span style=color:#f92672>*</span>)<span style=color:#f92672>.</span>([a<span style=color:#f92672>-</span>z]<span style=color:#f92672>*</span>)} <span style=color:#e6db74>&#34;Tcl</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>Command&#34;</span> sm sm1 sm2<span style=color:#75715e>#-nocase：忽视大小写;-start:指定匹配开始位置;-line:跨行匹配</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#替换</span>
</span></span><span style=display:flex><span>regsub there <span style=color:#e6db74>&#34;They lives there lives&#34;</span> their s<span style=color:#75715e>#-&gt;s:They lives their lives</span>
</span></span><span style=display:flex><span>regsub <span style=color:#f92672>-</span>all a ababa zz s<span style=color:#75715e>#-&gt;s:zzbzzbzz</span>
</span></span><span style=display:flex><span>regsub <span style=color:#f92672>-</span>all <span style=color:#f92672>--</span> (a<span style=color:#f92672>+</span>)(ba<span style=color:#f92672>*</span>) aabaabxab {z\<span style=color:#ae81ff>2</span>} s<span style=color:#75715e>#-&gt;s:zbaabxzb</span>
</span></span></code></pre></div><ul><li>数学运算</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>namespace <span style=color:#f92672>import</span> ::tcl::mathfunc::<span style=color:#f92672>*</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[rand]
</span></span><span style=display:flex><span>set x <span style=color:#f92672>-</span><span style=color:#ae81ff>1.2</span>
</span></span><span style=display:flex><span>set y <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>[abs <span style=color:#960050;background-color:#1e0010>$</span>x]
</span></span><span style=display:flex><span>[ceil <span style=color:#960050;background-color:#1e0010>$</span>x]<span style=color:#75715e>#向上取整</span>
</span></span><span style=display:flex><span>[floor <span style=color:#960050;background-color:#1e0010>$</span>x]<span style=color:#75715e>#向下取整</span>
</span></span><span style=display:flex><span>[fmod <span style=color:#960050;background-color:#1e0010>$</span>x <span style=color:#960050;background-color:#1e0010>$</span>y]<span style=color:#75715e>#%</span>
</span></span><span style=display:flex><span>[int <span style=color:#960050;background-color:#1e0010>$</span>x]
</span></span><span style=display:flex><span>[pow <span style=color:#960050;background-color:#1e0010>$</span>x <span style=color:#960050;background-color:#1e0010>$</span>y]
</span></span><span style=display:flex><span>[round <span style=color:#960050;background-color:#1e0010>$</span>x]
</span></span><span style=display:flex><span>[sqrt <span style=color:#960050;background-color:#1e0010>$</span>y]
</span></span><span style=display:flex><span>[max <span style=color:#960050;background-color:#1e0010>$</span>x <span style=color:#960050;background-color:#1e0010>$</span>y]
</span></span><span style=display:flex><span>[min <span style=color:#960050;background-color:#1e0010>$</span>x <span style=color:#960050;background-color:#1e0010>$</span>y]
</span></span></code></pre></div><ul><li>时间</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>set curr_tm [clock seconds]
</span></span><span style=display:flex><span>[clock format <span style=color:#960050;background-color:#1e0010>$</span>curr_tm <span style=color:#f92672>-</span>format <span style=color:#f92672>%</span>H:<span style=color:#f92672>%</span>M:<span style=color:#f92672>%</span>S]<span style=color:#75715e>#-&gt;15:34:01</span>
</span></span><span style=display:flex><span>[clock format <span style=color:#960050;background-color:#1e0010>$</span>curr_tm <span style=color:#f92672>-</span>format <span style=color:#f92672>%</span>D]<span style=color:#75715e>#08/29/2022</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>set date <span style=color:#e6db74>&#34;Jun 15, 2014&#34;</span>
</span></span><span style=display:flex><span>[clock scan <span style=color:#960050;background-color:#1e0010>$</span>date <span style=color:#f92672>-</span>format {<span style=color:#f92672>%</span>b <span style=color:#f92672>%</span>d, <span style=color:#f92672>%</span>Y}]<span style=color:#75715e>#-&gt;1402761600</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>after <span style=color:#ae81ff>500</span><span style=color:#75715e>#休眠n毫秒</span>
</span></span></code></pre></div><ul><li>函数</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>proc add {a b} {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> [expr <span style=color:#960050;background-color:#1e0010>$</span>a <span style=color:#f92672>+</span> <span style=color:#960050;background-color:#1e0010>$</span>b]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[add <span style=color:#ae81ff>10</span> <span style=color:#ae81ff>30</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#错误与异常</span>
</span></span><span style=display:flex><span>catch {set fp [open no<span style=color:#f92672>.</span>txt]} errmsg
</span></span><span style=display:flex><span>puts <span style=color:#e6db74>&#34;ErrorMsg: $errmsg&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>proc div {a b} {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> {<span style=color:#960050;background-color:#1e0010>$</span>b <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>} {
</span></span><span style=display:flex><span>    error <span style=color:#e6db74>&#34;Error generated by error&#34;</span> <span style=color:#e6db74>&#34;Info String for error&#34;</span> <span style=color:#ae81ff>401</span>
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [expr <span style=color:#960050;background-color:#1e0010>$</span>a <span style=color:#f92672>/</span> <span style=color:#960050;background-color:#1e0010>$</span>b]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> {[catch {puts <span style=color:#e6db74>&#34;Result = [div 10 0]&#34;</span>} errmsg]} {
</span></span><span style=display:flex><span>  puts <span style=color:#e6db74>&#34;ErrorMsg: $errmsg&#34;</span>
</span></span><span style=display:flex><span>  puts <span style=color:#e6db74>&#34;ErrorCode: $errorCode&#34;</span>
</span></span><span style=display:flex><span>  puts <span style=color:#e6db74>&#34;ErrorInfo:</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>$errorInfo</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></article></main><aside><div><div><h3>LATEST POSTS</h3></div><div><ul><li><a href=/posts/y2024q2-media-summary/>Y2024Q2 影视音总结</a></li><li><a href=/posts/cplusplus_security_guide/>C++安全指南</a></li><li><a href=/posts/y2024q1-media-summary/>Y2024Q1 影视音总结</a></li><li><a href=/posts/rf_analyzer_introduction/>RF Analyzer 简介</a></li><li><a href=/posts/rf_analyzer_feature_guid/>RF Analyzer 功能详解</a></li></ul></div></div></aside><footer><p>&copy; 2024 <a href=https://lxulxu.github.io/><b>lxulxu's blog</b></a>.
<a href=https://github.com/lxulxu><b>Github</b></a>.
<a href=https://space.bilibili.com/7739434><b>Bilibili</b></a>.</p></footer></body></html>